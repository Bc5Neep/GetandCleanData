# CodeBook 

## Base Human Activity Recognition Dataset (HAR) files and their corresponding variables

Subject_train.txt—numerical identifier of each individual subject participant in training data set stored in variable sub_train

```sub_train<- fread(file.choose("subject_train.txt"))```

Subject_test.txt— numerical identifier of each individual subject participant in training data set stored in variable sub_test

```sub_test<- fread(file.choose("subject_test.txt"))```

activity labels.txt – key of numerical values from 1-6 assigned to each corresponding activity 

Y_train.txt – single column list of activities in accordance with activity label key in training data set stored in the variable train_activity

```train_activity<- fread(file.choose("y_train.txt"))```

Y_test.txt – column list of activities in accordance with activity label key in training data set stored in the variable test_activity

```test_activity <- fread(file.choose("y_test.txt"))```

X_train.txt – raw vector values of training measurements I stored in the variable train_raw_value

```train_raw_value<- fread(file.choose("X_train.txt"))```

X_test.txt – raw vector values of test measurements I store in the variable test_raw_value

```test_raw_value <- fread(file.choose("X_test.txt"))```

features.txt – list of 561 measurement parameters called features I store in a variable called feature_names 

```feature_names <- fread(file.choose("features.txt"))```

## Key transformations

### Transform numerical values from activity into actual activities


```activity_labels <- c("1" = "Walking", "2" = "Walking_Upstairs", "3" = "Walking_Downstairs", "4" = "Sitting", "5" = "Standing", "6" = "Laying")```


Now values in activity column are the actual activities

### Flip orientation (make columns rows and vice versa)

Image

```Features <- as.data.frame(t(feature_names))```

### Remove numbered top row 
```Feature_Names <- Features[-1,]```

### Transfer column names from Feature_Names to train_raw_value

Image

### Replace column names from train_raw_value with those from Feature_Names

```colnames(train_raw_value) <-as.character(Feature_Names[1:ncol(train_raw_value)])```

### Repeat with test_raw_value

```colnames(test_raw_value) <- as.character(Feature_Names[1:ncol(test_raw_value)])```

### Create master data frame of train and test features

```Features_Master <- rbind(train_raw_value, test_raw_value)```

### Create data frame filtered by mean and standard deviation features

```Features_Mean_Std_Filtered <- Features_Master %>% ```
  ```select(contains("mean"), contains("std"))```

### Create master data frame of train and test subject and activity data

```Subject_Activity_Master <- rbind(train_df, test_df)```

### Merge to assemble complete HAR dataset data frame

```Train_Test_Merge <-cbind(Subject_Activity_Master, Features_Master)``` 


### Order rows in merged data frame by subject number 

```Train_Test_Ordered <- Train_Test_Merge[order(Train_Test_Merge[[1]],)]```

```TT_Mean_Std_Filtered <- cbind(Subject_Activity_Master,Features_Mean_Std_Filtered)```


### Obtain mean values for each iterative feature measurement by subject and activity
###

### Avoid duplicate row errors by giving unique names 

```names(Train_Test_Ordered) <-make.unique(names(Train_Test_Ordered))```

### Master HAR data set means

```HAR_Means_Master <- Train_Test_Ordered``` %>%
```group_by(subject, activity)``` %>%
  ```summarise(across(where(is.numeric), mean, na.rm = TRUE), .groups = "drop")```


### Next obtain data set filtered by features containing mean and standard deviation measurements

```HAR_Means_Filtered <- TTO_Mean_Std_Filtered```%>%
  ```group_by(subject, activity)``` %>%
  ```summarise(across(where(is.numeric), mean, na.rm = TRUE), .groups = "drop")```